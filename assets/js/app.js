!function(){"use strict";function e(e,t){e.otherwise("/"),t.html5Mode({enabled:!0,requireBase:!0}),t.hashPrefix("!")}function t(){FastClick.attach(document.body)}function n(e,t,n,o,a){e.id=t.params.id||"",e.page=t.params.p||1;var i="http://swapi.co/api/"+o+"/"+e.id+"?page="+e.page,r={cache:!0};return window.location.hostname.match("aerobaticapp")&&(r={params:{url:i,cache:1,ttl:3e4}},i="/proxy"),1==e.page?""!=e.id?n.get(i,r).success(function(t){t.homeworld&&(t.homeworld=[t.homeworld]),e[a]=t;var o=t.name;"film"==a&&(o=t.title);var i="https://www.googleapis.com/customsearch/v1?cx=001000040755652345309%3Aosltt3fexvk&q="+encodeURIComponent(o)+"&imgSize=large&num=1&fileType=jpg&key=AIzaSyBDvUGYCJfOyTNoJzk-5P9vE-dllx-Wne4",r={cache:!0};window.location.hostname.match("aerobaticapp")&&(r={params:{url:i,cache:1,ttl:3e5}},i="/proxy"),n.get(i,r).then(function(t){e.imageUrl=t.data.items[0].pagemap.cse_image[0].src},function(t){e.imageUrl="Unknown"})}):n.get(i,r).success(function(t){e[o]=t,t.next&&(e.nextPage=2)}):(n.get(i,r).success(function(t){e[o]=t,t.next&&(e.nextPage=1*e.page+1)}),e.prevPage=1*e.page-1),e}angular.module("application",["ui.router","ngAnimate","foundation","foundation.dynamicRouting","foundation.dynamicRouting.animations"]).config(["$httpProvider",function(e){e.defaults.useXDomain=!0,delete e.defaults.headers.common["X-Requested-With"]}]).controller("FilmsCtrl",function(e,t,o){e=n(e,t,o,"films","film")}).controller("SpeciesCtrl",function(e,t,o){e=n(e,t,o,"species","specie")}).controller("PlanetsCtrl",function(e,t,o){e=n(e,t,o,"planets","planet")}).controller("PeopleCtrl",function(e,t,o){e=n(e,t,o,"people","person")}).controller("StarshipsCtrl",function(e,t,o){e=n(e,t,o,"starships","starship")}).controller("VehiclesCtrl",function(e,t,o){e=n(e,t,o,"vehicles","vehicle")}).directive("getProp",["$http","$filter",function(e,t){return{template:"{{property}}",scope:{prop:"=",url:"="},link:function(n,o,a){var i=n.url,r={cache:!0};window.location.hostname.match("aerobaticapp")&&(r={params:{url:i,cache:1,ttl:3e4}},i="/proxy");var c=t("capitalize");e.get(i,r).then(function(e){n.property=c(e.data[n.prop])},function(e){n.property="Unknown"})}}}]).filter("capitalize",function(){return function(e){return e?e.replace(/([^\W_]+[^\s-]*) */g,function(e){return e.charAt(0).toUpperCase()+e.substr(1)}):""}}).filter("lastdir",function(){return function(e){return e?e.split("/").slice(-2,-1)[0]:""}}).config(function(e){e.defaults.useXDomain=!0,delete e.defaults.headers.common["X-Requested-With"]}).run(t),e.$inject=["$urlRouterProvider","$locationProvider"]}();